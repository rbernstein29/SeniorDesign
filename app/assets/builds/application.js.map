{
  "version": 3,
  "sources": ["../../javascript/api/api.js", "../../javascript/application.js"],
  "sourcesContent": ["// Handle api requests to Ruby on Rails backend\n\nconst URL = \"http://127.0.0.1:3000/api/\";\n\nexport async function create_get_request(request_string, request_type) {\n\tconst request = new Request(URL + request_type, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\t'X-CSRF-Token': document.querySelector('[name=\"csrf-token\"]').content\n\t\t},\n\t\tbody: JSON.stringify( request_string )\n\t});\n\n\treturn request;\n}\n\nexport async function create_post_request(request_string, request_type) {\n\tconst request = new Request(URL + request_type, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t'X-CSRF-Token': document.querySelector('[name=\"csrf-token\"]').content\n\t\t},\n\t\tbody: JSON.stringify( request_string )\n\t});\n\n\treturn request;\n}\n\nexport async function send_request(request) {\n\ttry {\n\t\tconst response = await fetch(request);\n\t\tconst data = await response.json();\n\t\t\n\t\treturn data;\n\t}\n\tcatch (error) {\n\t\tconsole.error(\"Request error: \", error);\n\t}\n}\n", "// Entry point for the build script in your package.json\nimport { create_get_request, create_post_request, send_request } from \"./api/api.js\";\n\n// Handle user login and account creation\n\n// Buttons for toggle between sign in and create account\nconst signin_toggle_btn = document.getElementById(\"tab-signin\");\nconst create_account_toggle_btn = document.getElementById(\"tab-signup\");\nconst signin_toggle_tab = document.getElementById(\"view-signin\");\nconst create_account_toggle_tab = document.getElementById(\"view-signup\");\n\n// Show sign in page\nasync function toggle_signin() {\n\tcreate_account_toggle_btn.className = \"tab\";\n\tcreate_account_toggle_tab.className = \"body hidden\";\n\tsignin_toggle_btn.className = \"tab active\";\n\tsignin_toggle_tab.className = \"body\";\n}\n\n// Show sign up page\nasync function toggle_create_account() {\n\tsignin_toggle_btn.className = \"tab\";\n\tsignin_toggle_tab.className = \"body hidden\";\n\tcreate_account_toggle_btn.className = \"tab active\";\n\tcreate_account_toggle_tab.className = \"body\";\n}\n\n// Toggles\nsignin_toggle_btn.addEventListener(\"click\", toggle_signin);\ncreate_account_toggle_btn.addEventListener(\"click\", toggle_create_account);\n\n\n// Handle user sign in\nasync function signin() {\n\tconst email = document.getElementById(\"in-email\").value;\n\tconst pass = document.getElementById(\"in-pass\").value;\n\tconst remember_me = document.getElementById(\"in-remember\").checked;\n\n\tconsole.log(\"Email: \", email, \" Password: \", pass, \"Remember Me: \", remember_me);\n\n\tconst user = { user: { email_address: email, password: pass } };\n\t\n\ttry {\n\t\tconst request = await create_post_request(user, \"users/signin\");\n\t\tconst response = await send_request(request);\n\n\t\tconsole.log(response);\n\t\tconsole.log(response.success);\n\n\t\tif (response.success) {\n\t\t\tconsole.log(response.url);\n\t\t\twindow.location.href = response.url;\n\t\t}\n\n\t}\n\tcatch (error) {\n\t\tconsole.log(\"Error during sign in: \", error);\n\t}\n}\n\n\n// Handle user sign out\nasync function signout() {\n\tconst user = { user: {} };\n\n\tconst request = await create_post_request(user, \"users/signout\");\n\tconst response = await send_request(request);\n\n\tconsole.log(response);\n}\n\n\n// Sign in button and event\nconst signin_btn = document.getElementById(\"btn-signin\");\nsignin_btn.addEventListener(\"click\", signin);\n\n\n// Sign out button and event\nconst signout_btn = document.getElementById(\"btn-signout\");\nsignout_btn.addEventListener(\"click\", signout);\n\n\n// Handle account creation\nasync function create_account() {\n\tconst name = document.getElementById(\"up-name\").value;\n\tconst org_name = document.getElementById(\"up-org\").value;\n\tconst email = document.getElementById(\"up-email\").value;\n\tconst pass = document.getElementById(\"up-pass\").value;\n\tconst terms = document.getElementById(\"up-terms\").checked;\n\n\tconsole.log(\"Name: \", name, \"Org: \", org_name, \"Email: \", email, \"Password: \", pass, \"Terms : \", terms);\n\n\tconst user = { name: name, email_address: email, password: pass, password_confirmation: pass };\n\tconst org = { org_name: org_name };\n\tconst account = { user: user, organization: org };\n\n\ttry {\n\t\tconst request = await create_post_request(account, \"accounts\");\n\t\tconst response = await send_request(request);\n\n\t\tconsole.log(response);\n\t\tconsole.log(response.success);\n\n\t\tif (response.success) {\n\t\t\tconsole.log(response.url);\n\t\t\twindow.location.href = response.url;\n\t\t}\n\n\t}\n\tcatch (error) {\n\t\tconsole.log(\"Error creating account: \", error);\n\t}\n\t\n}\n\n\n\n// Create account button and event\nconst create_account_btn = document.getElementById(\"btn-signup\");\ncreate_account_btn.addEventListener(\"click\", create_account);\n"],
  "mappings": "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",
  "names": []
}
